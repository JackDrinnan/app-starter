<link rel="import" href="../../../bower_components/paper-material/paper-material.html">
<!-- <link rel="import" href="../../../bower_components/iron-list/iron-list.html"> -->
<link rel="import" href="/src/header.html">

<dom-module id="user-list">
  <template>

    <style include="app-styles">
      :host {
        display: block;
      }

      iron-list {
        /*min-height: 400px;*/
      }
    </style>

    <paper-material class="layout vertical">
      <span class="font-title self-center">User list</span>
      <iron-list
        id="list"
        selection-enabled
        scroll-target="document"
        items="[[users]]"
        as="user">
        <template>
          <div>
            User [[user]]
          </div>
        </template>
      </iron-list>

      <!-- FIXME use iron-list when it is available -->
      <dom-repeat items="[[users]]" as="user">
        <template>
          <div class="font-subhead">User</div>
          <div class="font-small">[[user.$key]]</div>
          <div class="font-subhead">Name</div>
          <div class="font-small">[[user.name]]</div>
          <div class="font-subhead">Distance (km)</div>
          <div class="font-small">[[user.distance]]</div>
        </template>
      </dom-repeat>
    </paper-material>
  </template>

  <script>
    class UserList extends Polymer.Element {
      static get is() { return 'user-list'; }
      static get config() {
        return { /* properties, observers meta data */
          properties: {
            auth: Object,
            users: {
              type: Array,
            }
          }
        }
      }
      constructor() {
        super();
      }
      connectedCallback() {
        super.connectedCallback();
      }

      notifyResize() {
        this.$.list.notifyResize();
      }
    }
    // Register custom element definition using standard platform API
    customElements.define(UserList.is, UserList);
  </script>

</dom-module>
