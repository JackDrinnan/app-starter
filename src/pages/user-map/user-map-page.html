<link rel="import" href="../../../bower_components/paper-material/paper-material.html">
<link rel="import" href="/src/header.html">
<link rel="import" href="geo-query.html">
<link rel="import" href="user-map.html">


<!--
  The user map page shows a google map fully zoomed out with a marker for each
  user that has allowed themselves to be added.
  The map can be searched, optionally by the visitor's current location.
-->
<dom-module id="user-map-page">
<template>
  <style include="app-styles">
    :host {
      display: block;
    }
    user-map {
      min-height: 400px;
    }
  </style>
  <paper-material class="layout vertical">
    <span class="font-headline self-center">User Map</span>
    <geo-query
      app="[[app]]"
      profiles="{{profiles}}"
      lat="{{lat}}"
      lng="{{lng}}"
      radius-km="{{radiusKm}}"
      use-current-location>
    </geo-query>
  </paper-material>
  <paper-material>
    <user-map
      auth="[[auth]]"
      users="[[profiles]]"
      lat="[[lat]]"
      lng="[[lng]]"
      radius-km="[[radiusKm]]">
    </user-map>
  </paper-material>
</template>
<script>
class UserMapPage extends Polymer.Element {
  static get is() { return 'user-map-page'; }
  static get config() {
    return { /* properties, observers meta data */
      properties: {
        app: Object,
        auth: Object,
      }
    }
  }
  constructor() {
    super();
  }
  connectedCallback() {
    super.connectedCallback();
  }
}
// Register custom element definition using standard platform API
customElements.define(UserMapPage.is, UserMapPage);
</script>
</dom-module>
